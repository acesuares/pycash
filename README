= Take an e-bay Confirmation email and Create a Bill in GnuCash

GnuCash users, do you ever shop on EBay?  Of course you do.  Is it a real pain to record those purchases in GnuCash?  Hell yes.  This is the functionalty for you especially if you are a claws-mail user too.

Parses the email and creates a bill or bills.  Any changes in the EBay mail format will require changes to the scripts and currently this has only been tested on new mails from ebay.co.uk.  The bill number will assigned the next serial number and Billing ID is set from the "transaction" number in the email and if a bill with this Billing ID already exists it will refuse to create a new one.  This assumes that all the ebay transaction numbers are unique serial numbers.  New Vendors will be created as required.

This uses the GnuCash XLM file as a data store.  If you are experimenting 
with DB atorage you will have to edit the Session class to suit. Note that GnuCash
recommends using the XML file storage for production use as the database storage
is still in development and should only be used for testing.

== Installing

Just unzip the two files and put them somewhere from where they can be run.  Or do "python setup.py install" as root to install it for all users.

== Setting Up

In the distribution there is a file called pycash.conf, edit it and copy it to your root directory, but add a dot in front of it so the system sees it a hidden file. 

== Integration with Claws-Mail

Claws-Mail (and probably others too) can execute an external command and pass some paramters to the command.  The parameter we need is the filename of the email, %F.  So in Claws-Mail go to Configuration->Actions... to open up a dialog box.  Give the action a name and in the Command box fill in the full path to ebay2bill.py with a space and %F following it.  Click Add.  Now in the Tools->Actions menu you will see this item displayed.  Click on this with emails entitiled "Confirmation of your order of..." highlighted in the mail list and all these highlighted mails will be read and used to create a new bill in GnuCash.  The subject line is checked by the software and the mail is rejected if it doesn't match.  Of course as soon as EBay change the mail format then it will break this application.

You could, if you are brave enough, define a filter rule in Claws-Mail to automatically assign confirmation e-mails to your expense account.  I wouldn't though.

== This Software is Beerware

This software is beerware, if you use it and like it send me some money for a beer (or sometimes, food) via PayPal at:

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=3SQCKHY7AU3JU

Please donate because, honestly, I need the money for food. 

== Disclamer

Use this software at your OWN RISK.  I take NO reposibility for loss of data from using this software.  ALWAYS unsure you have a backup of your data.  TEST this software on a test file to ensure that it does what you think it does and ensure the result match your expectations.

This is NOT in ANY way affiliated to GnuCash.  Do NOT use the GnuCash mailing list to ask questions about this software.  Use either the GitHub issues reporter to air any problems you may encounter.  I *may* set up a forum if the email volume becomes and issue for me.


